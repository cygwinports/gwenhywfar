diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4*' -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x config.h.in -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x Makefile.in -x makefile.in -x configure -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in origsrc/gwenhywfar-2.6.1/configure.ac src/gwenhywfar-2.6.1/configure.ac
--- origsrc/gwenhywfar-2.6.1/configure.ac	2007-07-08 05:17:12.000000000 -0500
+++ src/gwenhywfar-2.6.1/configure.ac	2007-07-09 22:57:26.328125000 -0500
@@ -295,7 +295,14 @@
           # hmm, this should be detected by the GETTEXT macro...
           PROG_LIBRARIES="${PROG_LIBRARIES} -lintl"
         fi
+
+        # add special libraries for cygwin
+        if test "$OSYSTEM" = "cygwin"; then
+          all_libraries="${all_libraries} -lintl"
+          PROG_LIBRARIES="${PROG_LIBRARIES} -lintl"
+        fi
     	;;
+        
     windows)
         gwenhywfar_sys_is_windows=1
         dnl ACX_WINDOWS_PATHS
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4*' -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x config.h.in -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x Makefile.in -x makefile.in -x configure -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in origsrc/gwenhywfar-2.6.1/m4/os.m4 src/gwenhywfar-2.6.1/m4/os.m4
--- origsrc/gwenhywfar-2.6.1/m4/os.m4	2007-06-19 14:06:20.000000000 -0500
+++ src/gwenhywfar-2.6.1/m4/os.m4	2007-07-09 22:57:26.359375000 -0500
@@ -15,7 +15,7 @@
 dnl     OS_NAME: full name of your system
 dnl     OS_SHORTNAME: short name of your system
 dnl     Depending on your system one of the following is defined in addition:
-dnl      OS_LINUX, OS_OPENBSD, OS_FREEBSD, OS_BEOS, OS_WIN32
+dnl      OS_LINUX, OS_OPENBSD, OS_FREEBSD, OS_BEOS, OS_CYGWIN, OS_WIN32
 
 # check for OS
 AC_MSG_CHECKING([host system type])
@@ -67,6 +67,12 @@
 	AC_DEFINE(OS_POSIX,1,[if this is a POSIX system])
 	OS_TYPE="posix"
 	;;
+    *-cygwin*)
+	OSYSTEM="cygwin"
+	AC_DEFINE(OS_CYGWIN,1,[if Cygwin is used])
+	AC_DEFINE(OS_POSIX,1,[if this is a POSIX system])
+	OS_TYPE="posix"
+	;;
     *-win32*)
     	OSYSTEM="windows"
 	AC_DEFINE(OS_WIN32,1,[if WIN32 is used])
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4*' -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x config.h.in -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x Makefile.in -x makefile.in -x configure -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in origsrc/gwenhywfar-2.6.1/plugins/crypttoken/ohbci/Makefile.am src/gwenhywfar-2.6.1/plugins/crypttoken/ohbci/Makefile.am
--- origsrc/gwenhywfar-2.6.1/plugins/crypttoken/ohbci/Makefile.am	2006-04-08 03:05:26.000000000 -0500
+++ src/gwenhywfar-2.6.1/plugins/crypttoken/ohbci/Makefile.am	2007-07-09 22:57:26.390625000 -0500
@@ -18,7 +18,7 @@
 noinst_HEADERS=ohbci_l.h ohbci_p.h tag16_l.h tag16_p.h
 
 ohbci_la_SOURCES=ohbci.c tag16.c
-ohbci_la_LIBADD=$(top_builddir)/src/libgwenhywfar.la
+ohbci_la_LIBADD=$(top_builddir)/src/libgwenhywfar.la $(all_libraries)
 ohbci_la_DEPENDENCIES=$(top_builddir)/src/libgwenhywfar.la
 
 # if IS_WINDOWS
@@ -29,7 +29,7 @@
 # IS_WINDOWS
 
 ohbci_la_LDFLAGS = -no-undefined $(STRIPALL) $(ressource_ldflags) \
-  -module -omit-version
+  -module -avoid-version
 
 sources:
 	for f in $(ohbci_la_SOURCES); do \
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4*' -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x config.h.in -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x Makefile.in -x makefile.in -x configure -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in origsrc/gwenhywfar-2.6.1/plugins/dbio/csv/Makefile.am src/gwenhywfar-2.6.1/plugins/dbio/csv/Makefile.am
--- origsrc/gwenhywfar-2.6.1/plugins/dbio/csv/Makefile.am	2006-04-08 03:05:27.000000000 -0500
+++ src/gwenhywfar-2.6.1/plugins/dbio/csv/Makefile.am	2007-07-09 22:57:26.484375000 -0500
@@ -28,7 +28,7 @@
 # IS_WINDOWS
 
 csv_la_LDFLAGS = -no-undefined $(STRIPALL) $(ressource_ldflags) \
-    -module -version-info 0:1:0
+    -module -avoid-version
 
 
 sources:
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4*' -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x config.h.in -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x Makefile.in -x makefile.in -x configure -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in origsrc/gwenhywfar-2.6.1/plugins/dbio/olddb/Makefile.am src/gwenhywfar-2.6.1/plugins/dbio/olddb/Makefile.am
--- origsrc/gwenhywfar-2.6.1/plugins/dbio/olddb/Makefile.am	2006-04-08 03:05:27.000000000 -0500
+++ src/gwenhywfar-2.6.1/plugins/dbio/olddb/Makefile.am	2007-07-09 22:57:26.500000000 -0500
@@ -28,7 +28,7 @@
 # IS_WINDOWS
 
 olddb_la_LDFLAGS = -no-undefined $(STRIPALL) $(ressource_ldflags) \
-    -module -version-info 0:1:0
+    -module -avoid-version
 
 sources:
 	for f in $(olddb_la_SOURCES); do \
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4*' -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x config.h.in -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x Makefile.in -x makefile.in -x configure -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in origsrc/gwenhywfar-2.6.1/plugins/dbio/rfc822/Makefile.am src/gwenhywfar-2.6.1/plugins/dbio/rfc822/Makefile.am
--- origsrc/gwenhywfar-2.6.1/plugins/dbio/rfc822/Makefile.am	2006-04-08 03:05:27.000000000 -0500
+++ src/gwenhywfar-2.6.1/plugins/dbio/rfc822/Makefile.am	2007-07-09 22:57:26.546875000 -0500
@@ -28,7 +28,7 @@
 # IS_WINDOWS
 
 rfc822_la_LDFLAGS = -no-undefined $(STRIPALL) $(ressource_ldflags) \
-    -module -version-info 0:1:0
+    -module -avoid-version
 
 sources:
 	for f in $(rfc822_la_SOURCES); do \
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4*' -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x config.h.in -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x Makefile.in -x makefile.in -x configure -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in origsrc/gwenhywfar-2.6.1/plugins/dbio/xmldb/Makefile.am src/gwenhywfar-2.6.1/plugins/dbio/xmldb/Makefile.am
--- origsrc/gwenhywfar-2.6.1/plugins/dbio/xmldb/Makefile.am	2006-06-23 13:12:36.000000000 -0500
+++ src/gwenhywfar-2.6.1/plugins/dbio/xmldb/Makefile.am	2007-07-09 22:57:26.765625000 -0500
@@ -28,7 +28,7 @@
 # IS_WINDOWS
 
 xmldb_la_LDFLAGS = -no-undefined $(STRIPALL) $(ressource_ldflags) \
-    -module -version-info 0:1:0
+    -module -avoid-version
 
 sources:
 	for f in $(xmldb_la_SOURCES); do \
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4*' -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x config.h.in -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x Makefile.in -x makefile.in -x configure -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in origsrc/gwenhywfar-2.6.1/plugins/storage/localfiles/Makefile.am src/gwenhywfar-2.6.1/plugins/storage/localfiles/Makefile.am
--- origsrc/gwenhywfar-2.6.1/plugins/storage/localfiles/Makefile.am	2006-05-21 07:26:21.000000000 -0500
+++ src/gwenhywfar-2.6.1/plugins/storage/localfiles/Makefile.am	2007-07-09 22:57:26.781250000 -0500
@@ -37,7 +37,7 @@
 localfiles_la_LIBADD=$(top_builddir)/src/libgwenhywfar.la liblocalfiles.la
 localfiles_la_DEPENDENCIES=$(localfiles_la_LIBADD)
 localfiles_la_LDFLAGS = -no-undefined $(STRIPALL) $(ressource_ldflags) \
-    -module -version-info 0:1:0
+    -module -avoid-version
 
 noinst_PROGRAMS=testlib
 testlib_SOURCES=testlib.c
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4*' -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x config.h.in -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x Makefile.in -x makefile.in -x configure -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in origsrc/gwenhywfar-2.6.1/src/os/posix/libloader.c src/gwenhywfar-2.6.1/src/os/posix/libloader.c
--- origsrc/gwenhywfar-2.6.1/src/os/posix/libloader.c	2006-12-26 06:00:07.000000000 -0600
+++ src/gwenhywfar-2.6.1/src/os/posix/libloader.c	2007-07-09 22:57:26.812500000 -0500
@@ -247,6 +247,19 @@
   GWEN_Buffer_AppendString(buffer, name);
   i=strlen(name);
 
+#ifdef OS_CYGWIN
+  /* check whether we have the ".so" extension */
+  if ((i<=4) || (strcmp(name+i-4, ".dll")!=0)) {
+    /* no SO-extension, add it myself */
+    missingSoExt=1;
+  }
+
+  /* check whether we have the "lib" prefix */
+  if ((i<=3) || (strncmp(name, "cyg", 3)!=0)) {
+    /* no SO-extension, add it myself */
+    missingLibPrefix=1;
+  }
+#else
   /* check whether we have the ".so" extension */
   if ((i<=3) || (strcmp(name+i-3, ".so")!=0)) {
     /* no SO-extension, add it myself */
@@ -258,6 +271,7 @@
     /* no SO-extension, add it myself */
     missingLibPrefix=1;
   }
+#endif
 
   /* try to load the library */
   err=GWEN_LibLoader_LoadLibrary(h, GWEN_Buffer_GetStart(buffer));
@@ -284,7 +298,11 @@
   if (missingSoExt) {
     /* try again, this time with ".so" appended */
     pos2=GWEN_Buffer_GetPos(buffer);
+#ifdef OS_CYGWIN
+    GWEN_Buffer_AppendString(buffer, ".dll");
+#else
     GWEN_Buffer_AppendString(buffer, ".so");
+#endif
     err=GWEN_LibLoader_LoadLibrary(h, GWEN_Buffer_GetStart(buffer));
     if (GWEN_Error_IsOk(err)) {
       DBG_INFO(GWEN_LOGDOMAIN, "Library \"%s\" loaded",
@@ -309,7 +327,11 @@
   if (missingLibPrefix) {
     GWEN_Buffer_SetPos(buffer, pos);
     /* insert "lib" */
+#ifdef OS_CYGWIN
+    GWEN_Buffer_InsertString(buffer, "cyg");
+#else
     GWEN_Buffer_InsertString(buffer, "lib");
+#endif
     /* try again */
     err=GWEN_LibLoader_LoadLibrary(h, GWEN_Buffer_GetStart(buffer));
     if (GWEN_Error_IsOk(err)) {
